{% load static %}
{% load compress %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>{% block title %}{% endblock title %}</title>
  <link href="{% static 'icons/favicon.png' %}" rel="icon">
  <link href="{% static 'icons/apple-touch-icon.png' %}" rel="apple-touch-icon">
  <link href="{% static 'icons/favicon.ico' %}" rel="icon">
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
  {% compress css inline %}
  <link href="{% static 'main/css/main.css' %}" rel="stylesheet">
  <link href="{% static 'main/css/style.css' %}" rel="stylesheet">
  {% endcompress %}
  {% include 'base/_details/topscript.html' %}
  {% block scripts_top %}

  {% endblock scripts_top %}

  {% block styles %}
  {% endblock styles %}
  <script>
    var requestUser = '{{request.user}}';
    function getCookie(name) {
        var cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = jQuery.trim(cookies[i]);
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
    var csrftoken = getCookie('csrftoken');
    var cart = JSON.parse(getCookie('cart'))

    if (cart == undefined){
        cart = {}
        console.log('Cart Created!', cart)
        document.cookie ='cart=' + JSON.stringify(cart) + ";domain=;path=/"
    }
    console.log('Cart:', cart)
</script>
</head>

<body>
  {% block body_hidden %}

  {% endblock body_hidden %}  
  <main id="main" class="main">
    <div class="container mt-2">
      {% include 'base/messages.html' %}
      {% block content %}
      
      
      
      
      {% endblock content %}
    </div>
  </main>
  
  {% include 'base/footer.html' %}
  
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>


  {% block scripts %}

  {% endblock scripts %}
  {% compress js inline %}
  <script src="{% static 'main/js/searchbar.js' %}"></script>
  <script src="{% static 'main/js/main.js' %}"></script>
  <script src="{% static 'main/js/sidebar_fter.js' %}"></script>
  {% if request.user.is_authenticated %}
    {% include 'base/_details/notificationscript.html' %}
  {% endif %}
  {% endcompress %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</body>

</html>